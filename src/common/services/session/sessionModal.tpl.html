<div class="loading-overlay-parent">
  <div class="modal-header">
    <button type="button" class="close" aria-label="Close" ng-click="$ctrl.onCancel()">
      <span aria-hidden="true">Ã—</span>
    </button>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12">
          <div class="border-bottom-small">
            <h3 class="text-center">{{$ctrl.modalTitle | translate}}</h3>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-body pt0">
    <div class="container-fluid" tabindex="-1" role="dialog">
      <div class="row">

        <div ng-switch="$ctrl.state">
          <forgot-password-modal ng-switch-when="forgot-password"
                                 modal-title="$ctrl.modalTitle"
                                 on-state-change="$ctrl.stateChanged(state)">
          </forgot-password-modal>
          <reset-password-modal ng-switch-when="reset-password"
                                modal-title="$ctrl.modalTitle"
                                on-state-change="$ctrl.stateChanged(state)">
          </reset-password-modal>
          <sign-up-modal ng-switch-when="sign-up"
                         modal-title="$ctrl.modalTitle"
                         on-state-change="$ctrl.stateChanged(state)"
                         on-success="$ctrl.onSignUpSuccess()">
          </sign-up-modal>
          <sign-in-modal ng-switch-when="sign-in"
                         modal-title="$ctrl.modalTitle"
                         on-state-change="$ctrl.stateChanged(state)"
                         on-success="$ctrl.onSignInSuccess()">
          </sign-in-modal>
          <user-match-modal ng-switch-when="user-match"
                            modal-title="$ctrl.modalTitle"
                            on-state-change="$ctrl.stateChanged(state)"
                            on-success="$ctrl.onSignUpSuccess()"
                            set-loading="$ctrl.setLoading(loading)">
          </user-match-modal>
          <contact-info-modal ng-switch-when="contact-info"
                              modal-title="$ctrl.modalTitle"
                              on-state-change="$ctrl.stateChanged(state)"
                              on-success="$ctrl.onSignUpSuccess()"
                              on-cancel="$ctrl.onCancel()">
          </contact-info-modal>
          <account-benefits-modal ng-switch-when="account-benefits"
                                  modal-title="$ctrl.modalTitle"
                                  on-state-change="$ctrl.stateChanged(state)"
                                  on-success="$ctrl.onSignUpSuccess()">
          </account-benefits-modal>
          <register-account-modal ng-switch-when="register-account"
                                  modal-title="$ctrl.modalTitle"
                                  on-success="$ctrl.onSignUpSuccess()"
                                  on-cancel="$ctrl.onCancel()"
                                  set-loading="$ctrl.setLoading(loading)">
          </register-account-modal>
        </div>
      </div>
    </div>
  </div>
  <loading type="overlay" ng-if="$ctrl.isLoading"></loading>
</div>
