<div class="loading-overlay-parent">
  <div ng-switch="$ctrl.state">
    <sign-up-modal ng-switch-when="sign-up"
      modal-title="$ctrl.modalTitle"
      last-purchase-id="$ctrl.lastPurchaseId"
      on-sign-up="$ctrl.onSignUpSuccess()"
      on-sign-in="$ctrl.onSignIn()"
      on-cancel="$ctrl.close()"
    ></sign-up-modal>
    <register-account-modal ng-switch-when="register-account"
      first-name="$ctrl.firstName"
      modal-title="$ctrl.modalTitle"
      welcome-back="$ctrl.welcomeBack"
      last-purchase-id="$ctrl.lastPurchaseId"
      on-success="$ctrl.onSignUpSuccess()"
      on-cancel="$ctrl.onCancel()"
      set-loading="$ctrl.setLoading(loading)"
    ></register-account-modal>
    <account-benefits-modal ng-switch-when="account-benefits"
      modal-title="$ctrl.modalTitle"
      on-state-change="$ctrl.stateChanged(state)"
      on-success="$ctrl.onAccountBenefitsSuccess()"
      on-cancel="$ctrl.onCancel()"
    ></account-benefits-modal>
    <user-match-modal ng-switch-when="user-match"
      modal-title="$ctrl.modalTitle"
      on-state-change="$ctrl.stateChanged(state)"
      on-success="$ctrl.onSignUpSuccess()"
      set-loading="$ctrl.setLoading(loading)"
    ></user-match-modal>
  </div>
  <loading type="overlay" ng-if="$ctrl.isLoading"></loading>
</div>
