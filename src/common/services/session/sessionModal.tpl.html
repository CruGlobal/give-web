<div class="give-loading-overlay-parent">
  <div ng-switch="$ctrl.state">
    <register-account-modal ng-switch-when="register-account"
      modal-title="$ctrl.modalTitle"
      show-sign-up="$ctrl.registerAccountSignUp"
      hide-close-button="$ctrl.hideCloseButton"
      last-purchase-id="$ctrl.lastPurchaseId"
      on-success="$ctrl.onSignUpSuccess()"
      on-cancel="$ctrl.onCancel()"
      set-loading="$ctrl.setLoading(loading)"
    ></register-account-modal>
    <account-benefits-modal ng-switch-when="account-benefits"
      modal-title="$ctrl.modalTitle"
      on-register="$ctrl.onAccountBenefitsRegister()"
      on-success="$ctrl.onAccountBenefitsSuccess()"
      on-cancel="$ctrl.onCancel()"
    ></account-benefits-modal>
    <user-match-modal ng-switch-when="user-match"
      modal-title="$ctrl.modalTitle"
      on-state-change="$ctrl.stateChanged(state)"
      on-success="$ctrl.onSignUpSuccess()"
      set-loading="$ctrl.setLoading(loading)"
    ></user-match-modal>
  </div>
  <loading type="overlay" ng-if="$ctrl.isLoading"></loading>
</div>
