<div class="alert alert-danger" role="alert" ng-if="$ctrl.errorMessage" ng-switch="$ctrl.errorMessage">
  <span ng-switch-when="generic" translate>
    An error has occurred. Please try again or contact <a href="mailto:eGift@cru.org">eGift@cru.org</a> for assistance.
  </span>
  <span ng-switch-default>
    {{$ctrl.errorMessage | translate}}
  </span>
</div>
<sign-in-button
  on-success="$ctrl.onSuccess()"
  on-failure="$ctrl.onFailure()"
  last-purchase-id="$ctrl.lastPurchaseId"
  error-message="$ctrl.errorMessage"
  on-sign-in-page="$ctrl.onSignInPage"
></sign-in-button>

<p class="sign-in-info" ng-if="!$ctrl.onSignInPage">
  <span translate>You will be taken to Okta </span>
  <span class="sup">
    <i
      class="fa fa-info-circle text-info"
      uib-tooltip="{{'Okta is a trusted 3rd party security tool used by Cru to protect your personal information associated with your donor account.' | translate}}"
    ></i>
  </span>
  <span translate>, then back to this site.</span>
</p>
<p ng-if="$ctrl.onSignInPage" translate>You will briefly be taken away from this site to login, then brought back right where you left off.</p>
<hr />
<div ng-if="!$ctrl.onSignInPage">
  <h4 translate>Don&rsquo;t have an account?</h4>
  <a class="okta-signup-button" ng-click="$ctrl.onSignUpWithOkta()">Create an account</a>
</div>
<div class="need-help" ng-class="{'open': $ctrl.needHelpAccordionOpened}">
  <div class="need-help--header" ng-click="$ctrl.toggleNeedHelpAccordion()" onKeyPress>
    <i class="fa fa-caret-right"></i>
    <span translate>Need help?</span>
  </div>
  <div class="need-help--content">
    <p><a ng-href="{{$ctrl.getOktaUrl()}}/signin/forgot-password" target="_blank" translate>Forgot your password?</a></p>
    <p>Call <a href="tel:+18882787233">(888) 278-7233</a> opt. 1, then 1.<br />9:00 a.m. to 5:00 p.m. ET, Monday-Friday,<br /> or email us at <a href="mailto:eGift@cru.org">eGift@cru.org</a>.</p>
  </div>
</div>
