<loading type="overlay" ng-if="$ctrl.resolve.submissionError.loading"></loading>

<div class="modal-header">
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12">
        <div class="border-bottom-small">
          <button type="button"
                  class="close"
                  aria-label="Close"
                  ng-click="$ctrl.dismiss()">
            <span aria-hidden="true">Ã—</span>
          </button>
          <h3 class="text-center">
            <span ng-if="!$ctrl.resolve.paymentMethod" translate>Add New Payment Method</span>
            <span ng-if="$ctrl.resolve.paymentMethod" translate>Edit Payment Method</span>
          </h3>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-body pt0">
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12">
        <payment-method-form on-submit="$ctrl.onSubmit(success, data)" submission-error="$ctrl.resolve.submissionError" payment-method="$ctrl.resolve.paymentMethod" mailing-address="$ctrl.resolve.mailingAddress"></payment-method-form>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <button type="button" class="btn btn-primary pull-right" ng-click="$ctrl.resolve.submissionError.loading = true;" translate>
          <span ng-if="!$ctrl.resolve.paymentMethod" translate>Add Payment Method</span>
          <span ng-if="$ctrl.resolve.paymentMethod" translate>Update Payment Method</span>
        </button>
        <button type="button" class="btn btn-default" ng-click="$ctrl.dismiss()" translate>Cancel &amp; Return</button>
      </div>
    </div>
  </div>
</div>

