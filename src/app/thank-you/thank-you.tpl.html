<div class="screenContent">
  <div class="container container-edge-small container-edge-extrasmall">
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="col-md-12">
              <div class="panel">
                <div class="panel-body">
                  <h2 class="panel-name">
                    Thank you for Your Gift
                  </h2>

                  <p>
                    We are processing your gift now. We'll send an email confirmation to to <strong>{{$ctrl.email}}</strong> as well as a tax-deductible receipt by postal mail.
                  </p>

                  <p>
                    Thanks for making a difference in the lives of people both now and for eternity. May the Lord bless your investment in this work for Christ's kingdom. (Luke 6:38)
                  </p>

                  <div class="row mt">
                    <div class="col-md-6">
                      <div class="panel panel-default">
                        <div class="panel-heading">
                          Payment Method
                        </div>

                        <div class="panel-body" ng-if="$ctrl.purchase.paymentMeans.self.type === 'elasticpath.bankaccountpurchases.payment-means-bank-account'">
                          <div class="form-group">
                            <label translate>Bank Name</label>
                            <p>{{$ctrl.purchase.paymentMeans['bank-name']}}</p>
                          </div>

                          <div class="form-group">
                            <label translate>Account Type</label>
                            <p>{{$ctrl.purchase.paymentMeans['account-type'] | capitalize}}</p>
                          </div>

                          <div class="form-group">
                            <label translate>Routing Number</label>
                            <p>{{$ctrl.purchase.paymentMeans['routing-number']}}</p>
                          </div>

                          <div class="form-group">
                            <label translate>Account Number</label>
                            <p>************{{$ctrl.purchase.paymentMeans['display-account-number']}}</p>
                          </div>
                        </div>

                        <div class="panel-body" ng-if="$ctrl.purchase.paymentMeans.self.type === 'elasticpath.purchases.purchase.paymentmeans'">
                          <div class="form-group">
                            <label translate>Name on card</label>
                            <p>{{$ctrl.purchase.paymentMeans['holder-name']}}</p>
                          </div>

                          <div class="form-group">
                            <label translate>Card Number</label>
                            <p>************{{$ctrl.purchase.paymentMeans['card-number']}}</p>
                          </div>

                          <div class="form-group">
                            <label translate>Card Type</label>
                            <p>{{$ctrl.purchase.paymentMeans['card-type']}}</p>
                          </div>

                          <div class="form-group">
                            <label translate>Expires</label>
                            <p>{{$ctrl.purchase.paymentMeans['expiry-date'].month}}/{{$ctrl.purchase.paymentMeans['expiry-date'].year}}</p><!-- TODO: deal with localization -->
                          </div>

                          <div class="form-group">
                            <label translate>Billing Address</label>
                            <display-address address="$ctrl.billingAddress"></display-address>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="panel panel-default">
                        <div class="panel-heading">
                          Receipt Mailing Address
                        </div>

                        <div class="panel-body">
                          <div class="form-group">
                            <div>
                              {{$ctrl.purchase.donorDetails.name.title}}
                              {{$ctrl.purchase.donorDetails.name['given-name']}}
                              {{$ctrl.purchase.donorDetails.name['middle-initial']}}
                              {{$ctrl.purchase.donorDetails.name['family-name']}}
                              {{$ctrl.purchase.donorDetails.name.suffix}}
                            </div>
                            <div ng-if="$ctrl.purchase.donorDetails['donor-type'] === 'Household'">
                              {{$ctrl.purchase.donorDetails['spouse-name'].title}}
                              {{$ctrl.purchase.donorDetails['spouse-name']['given-name']}}
                              {{$ctrl.purchase.donorDetails['spouse-name']['middle-initial']}}
                              {{$ctrl.purchase.donorDetails['spouse-name']['family-name']}}
                              {{$ctrl.purchase.donorDetails['spouse-name'].suffix}}
                            </div>
                            <div ng-if="$ctrl.purchase.donorDetails['donor-type'] === 'Organization'">
                              {{$ctrl.purchase.donorDetails['organization-name']}}
                            </div>
                            <display-address address="$ctrl.mailingAddress"></display-address>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div><!-- // row -->

                  <div class="row">
                    <div class="col-md-12">
                      <div class="panel panel-default">
                        <div class="panel-body">
                          <h4 class="panel-name">Gift Summary</h4>

                          <table class="table giftsum-table giftsum-table-cart">
                            <tbody>
                            <tr class="giftsum-gift-row" ng-repeat="item in $ctrl.purchase.lineItems">
                              <td class="td-gift">
                                <span class="giftsum-person giftsum-title">{{item.name}}</span>
                                <p>#{{item.code['product-code']}}</p>
                              </td>
                              <td class="td-frequency">
                                <span class="giftsum-about giftsum-title">{{item.rate.display}}</span>
                                <span class="giftsum-frequency giftsum-title">
                                  <span ng-if="item.rate.recurrence.interval !== 'NA'">First Gift: XX/XX/XXXX</span>
                                  <span ng-if="item.rate.recurrence.interval === 'NA'">Transaction Date: 1-2 Business Days</span>
                                </span>
                              </td>
                            </tr>
                            </tbody>

                            <tfoot>
                            <tr>
                              <td class="text-right" colspan="2">
                                <span class="giftsum-line" ng-repeat="rate in $ctrl.purchase.rateTotals">
                                  Your {{rate.recurrence.display}} Gift Total: <strong>{{rate.cost.display}}</strong>
                                </span>
                                <span class="giftsum-line">Your Single Total: <strong>{{$ctrl.purchase.rawData['monetary-total'][0].display}}</strong></span><!-- TODO: is this the correct way to access the single gift total? It seems to be missing from rateTotals... -->
                              </td>
                            </tr>
                            </tfoot>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div><!-- // row -->

                </div>
              </div><!-- // panel -->
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <account-benefits></account-benefits>
        </div>

        <div class="col-md-4 hidden-xs hidden-sm">
          <help></help>
        </div>
      </div>
    </div>
    <!-- // masonry container -->
  </div>
</div>
<!-- End content wrap -->
